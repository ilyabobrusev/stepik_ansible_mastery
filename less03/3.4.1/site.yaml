- name: –ü—Ä–∏–º–µ—Ä pre_tasks –∏ post_tasks
  hosts: all
  gather_facts: true  # –Ω—É–∂–Ω–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞

  pre_tasks:
    - name: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ ‚Äî –Ω–∞—á–∞–ª–æ –¥–µ–ø–ª–æ—è
      ansible.builtin.debug:
        msg: "üü° –ù–∞—á–∏–Ω–∞–µ–º –¥–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"

  tasks:
    - name: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å htop (—Ç–æ–ª—å–∫–æ –Ω–∞ Debian-—Å–∏—Å—Ç–µ–º–∞—Ö)
      ansible.builtin.apt:
        name: htop
        state: present
        update_cache: true
      when: ansible_os_family == "Debian"

  post_tasks:
    - name: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ ‚Äî –≤—Å—ë –≥–æ—Ç–æ–≤–æ!
      ansible.builtin.debug:
        msg: "‚úÖ –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à—ë–Ω —É—Å–ø–µ—à–Ω–æ"
