Порядок приоритета переменных (от низшего к высшему):
    Значения командной строки (например, -u my_user) — не являются переменными
    Роль defaults (определённые в role/defaults/main.yml)
    Групповые переменные в inventory файле или скрипте
    group_vars/all из inventory
    group_vars/all из playbook
    group_vars/* из inventory
    group_vars/* из playbook
    Хостовые переменные в inventory файле или скрипте
    host_vars/* из inventory
    host_vars/* из playbook
    Факты хоста / кэшированные set_facts
    Переменные playbook (vars)
    Переменные, запрашиваемые у пользователя (vars_prompt)
    Переменные из файлов (vars_files)
    Роль vars (определённые в role/vars/main.yml)
    Переменные блока (block vars) — только для задач внутри блока
    Переменные задачи (task vars) — только для конкретной задачи
    include_vars
    set_facts / зарегистрированные переменные
    Параметры роли (role params) и include_role
    Параметры include
    Дополнительные переменные (extra vars) (например, -e "user=my_user") — всегда имеют наивысший приоритет


Ansible имеет три основных области видимости переменных:
    Глобальная: переменные, установленные в конфигурации, переменных окружения и командной строке.
    Play: переменные, определённые в playbook, включая vars, vars_files, vars_prompt, а также defaults и vars ролей.
    Хостовая: переменные, связанные с конкретным хостом, такие как переменные inventory, host_vars, group_vars, факты и зарегистрированные переменные.


Типы переменных в Ansible
Ansible поддерживает различные типы переменных:
    Простые переменные: одиночные значения, например, nginx_port: 80.
    Списки: упорядоченные коллекции значений, например, packages: ['nginx', 'mysql'].
    Словари: пары ключ-значение, например, user: { name: 'admin', uid: 1001 }.
Также существуют специальные переменные:
    Факты (ansible_facts): автоматически собираемая информация о хостах.
    Магические переменные: предопределённые переменные, такие как hostvars, groups, inventory_hostname


Лучшие практики при работе с переменными
    Используйте defaults/main.yml для переменных, которые могут быть переопределены пользователем.
    Избегайте использования vars/main.yml для переменных, которые могут потребоваться изменить — они имеют высокий приоритет и трудно переопределяются.
    Применяйте префиксы в именах переменных, чтобы избежать конфликтов, например, nginx_port вместо port.
    Храните чувствительные данные с использованием Ansible Vault, чтобы защитить их от несанкционированного доступа.
    Документируйте переменные в README.md роли, указывая их назначение и значения по умолчанию.
